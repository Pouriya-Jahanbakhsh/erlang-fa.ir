+++
title = "ارلنگ چیست؟"
date = "2019-06-21T00:00:03"
+++


خوب قرار بود قبل از شروع آموزش، با هم راجع به ارلنگ تحقیق کنیم. خوب بذارید اول ببینیم [سایتش](http://erlang.org) چی میگه؟

![ارلنگ چیه](/posts/images/erlang-fa.ir-what-is-erlang-01.png)

خوب اینجا گفته ارلنگ یک زبان برنامه‌نویسی برای توسعه برنامه های مقیاس‌پذیر، بی‌درنگ و در دسترس هست و از موارد استفادش به سیستم های مخابراتی، بانکی، خرید و فروش و پیام‌رسانی اشاره کرده. همچنین اشاره کرده که بصورت پیش‌ساخته از همروندی و توزیع‌شدگی و مکانیزم های بردباری خطا برخورداره. 

تو دید اول و مخصوصا با توجه به ویژگی هایی که در بقیه زبان ها میبینیم، چند تا از این خصوصیات به نظر جالب میان، برای مثال بردباری خطا و یا توزیع‌شدگی. خوب این بردباری خطا یعنی چی؟ همون try..catch خودمونه؟ اگر آره چرا در سایت رسمی و در صفحه اول در مهم ترین پاراگرافی که داره زبان رو معرفی میکنه آوردنش؟ خواهیم دید.

بهتره یه سر هم به [ویکیپدیا](https://en.wikipedia.org/wiki/Erlang_(programming_language)) بزنیم

![ویگیپدیای ارلنگ](/posts/images/erlang-fa.ir-what-is-erlang-02.png)

خوب حالا من یک سری از این خصوصیات رو توضیح میدم.


### همه‌منظوره

اینجا اول از همه گفته ارلنگ یک زبان همه منظورست! ممکنه سوال پیش بیاد که مثلا میشه باهاش برای گوشی های آیفون برنامه بنویسیم؟ خوب آره میشه ولی قبلش باید بستر این کار و همه کتابخونه های مورد نیاز و … رو برای این کار فراهم کنیم (چون تا اونجا که من میدونم چنین چیزی برای ارلنگ وجود نداره) و بعدش میتونین با ارلنگ برای آیفون برنامه بنویسین!

![ویگیپدیای ارلنگ](/posts/images/erlang-fa.ir-what-is-erlang-03.jpg)

 این دقیقا همون قسمتی هست که گفتم <bold> ممکنه اشتباه متوجهش بشیم</bold>. همه منظوره بودن لزوما این نیست که با زحمت کم و زمان معقول هر کاری که دلتون بخواد رو بتونین با یک زبان انجام بدین. 


### تابع‌گرا

البته از این به بعد به جای تابع‌گرا میگم فانکشنال. این که ارلنگ فانکشنال هست یا نه ممکنه روی تصمیمتون برای یادگیریش تاثیر مهمی داشته باشه. هنوز بین این که ارلنگ فانکشنال معمولیه یا فانکشنال خالص بین علما اختلاف هست و منم وارد این بحث نمیشم. دو موضوع مهم رو الان باید بهتون بگم و بعدش چراغ هارو خاموش میکنم و هرکس خواست میتونه بره!

نکته اول این که بعد از تعریف یک متغیر دیگه حق ندارید مقدارش رو عوض کنید و نکته دوم این که نه while داریم و نه for داریم و نه do while و کلا دستور یا کیوردی برای حلقه نداریم !

یعنی چی؟ خوب اگر نمیتونیم مقدارش رو عوض کنیم چرا بهش میگیم متغیر؟

![شهاب حسینی تعجب](/posts/images/erlang-fa.ir-what-is-erlang-04.jpg)


 ایده این هست که در ارلنگ یک قسمت از حافظه از <bold>نداشتن‌هیچ‌اسمی</bold> به <bold>داشتن‌اسم</bold> تغییر میکنه!

خوب حالا اینو ولش کن، لوپ چرا نداره دیگه؟ خوب اول بیاید فکر کنیم لوپ چیه؟ حالا که یادمون اومد باید بگم که زبان های فانکشنال اغلب این موضوع رو با توابع بازگشتی یا Recursion حل میکنن.

زمانی که داشتم جواب این سوالات رو تایپ میکردم یاد جمله معروف آقای Alan Jay Perlis درباره برنامه‌نویسی افتادم. ایشون میگن:

>A language that doesn’t affect the way you think about programming is not worth knowing
> زبان برنامه‌نویسی که روی طرز فکرت راجع به برنامه‌نویسی تاثیر نذاره، ارزش یادگیری نداره

البته اینم اضافه کنم که این تغییر در نگرش به برنامه‌نویسی فقط به اینجا محدود نمیشه و تو ویژگی های بعدی که میگم بیشتر خودش رو نشون میده.


### سورپرایز

یکی از ویژگی های جالبی که ویکیپدیا ازش نام برده Hot swapping هست که قراره مارو غافلگیر کنه. با این ویژگی ما میتونیم کد های سیستم رو زمانی که در حال اجراست تغییر بدیم! به این صورت که بدون قطعی سیستم باگ هارو رفع کنیم و یا فیچر حذف و اضافه کنیم. این حرفم اصلا جنبه تبلیغاتی نداره و از اون جنس حرف هایی هم نیست که بعدا میریم میبینیم برای انجامش باید از هفت خان رستم بگذریم. این مهمترین دلیلیه که به خاطرش ارلنگ رو بدون‌توقف و یا Non-stop میدونن و البته تا حد زیادی به ویژگی بردباری خطا هم کمک کرده.


### بردباری خطا

یکی از اصولی که باید بپذیریم این هست که انسان ها حتی با وجود این همه ابزار باز هم نمیتونن برنامه هایی بنویسن که توش باگ و خطا و اکسپشن نباشه ! با استفاده از ابزار های مختلف و کسب دانش بیشتر و کار تیمی و … ممکنه بشه این خطا هارو کم کرد ولی نمیشه کاملا از بین برد. ارلنگ یک ضرب المثلی داره به نام let it crash و منظورش هم دقیقا همینه. حرف ارلنگ اینه که اگر یک قسمت از سیستم با خطا مواجه شد اولا تا جای ممکن نباید روی کارکرد بقیه قسمت ها تاثیر بذاره و دوما همون قسمت هم در همون زمان اجرا درستش میکنیم.

برای مثال فکر کنید شما یک سرور چت دارید که کاربرانش هم بصورت چت خصوصی (دو نفره) و هم بصورت گروهی چت میکنن. ارلنگ میگه اگر در قسمت گروه به خاطر فعالیت خاص اعضای یک گروه، فقط همون گروه مشکل پیدا کرد، این نباید روی بقیه ی گروه ها و کارکردشون تاثیر بذاره. یا بدتر از اون اگر یک باگ توی کل سیستم گروه ها پیدا شد و پیامرسانی توی گروه ها کار نمیکرد، این نباید روی پیامرسانی چت خصوصی تاثیر بذاره !

بنابراین در چهارچوب نرم افزاری خودش یک سری دیزاین و متد پیاده سازی برای سیستم هایی که همچین نیاز هایی دارن رو داره که این متد ها در کنار ویژگی تغییر کد در زمان اجرا و ویژگی توزیع‌شدگی ارلنگ رو اژدهای هزارسر میکنه. و اینطوریه که اگر جاواکار ها میگن یکبار بنویس و همه جا اجرا کن، ما ارلنگ کار ها میگیم یک بار بنویس و یک بار هم برای همیشه اجراش کن.
